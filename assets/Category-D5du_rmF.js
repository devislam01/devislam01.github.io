import{u as A,d as E,e as T,f as q,g as y,h as G,r as c,i as g,o as p,w as a,a as o,c as v,b as i,F as h,j as b,k as z,l as w,m as H,t as f}from"./index-C1DQwLw6.js";import{u as J}from"./productStore-4SSI3pBo.js";import{c as K}from"./constants-BJ-mVNN5.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Q={class:"card-header"},W=["src"],X={style:{"text-align":"left"}},Y={style:{"font-weight":"bold",color:"#0f5841","font-size":"1.3rem"}},Z={style:{"font-weight":"bold",color:"#0f5841","font-size":"1.3rem"}},$={style:{"font-weight":"400",color:"#0f5841","font-size":"1.2rem"}},ee={style:{"place-self":"center"}},te={__name:"Category",setup(ae){const n=J(),_=A(),{startConnection:k}=E(),S=T(),u=q(),x=y(()=>n.productList),t=y(()=>n.pagination),C=async()=>{const l=await n.getProductList();t.value=l.pagination},N=async()=>{const l={categoryID:u.value,search:n.filters.search||""},e=await n.getProductList(l);t.value=e.pagination},L=async()=>{u.value=[];const l={categoryID:[],search:n.filters.search||""},e=await n.getProductList(l);t.value=e.pagination},P=async l=>{n.pagination.pageNumber=l;const e={pageNumber:t.value.pageNumber,pageSize:t.value.pageSize,search:n.filters.search||"",categoryID:u.value},r=await n.getProductList(e);t.value=r.pagination},F=async l=>{n.pagination.pageSize=l,n.pagination.pageNumber=1;const e={pageNumber:t.value.pageNumber,pageSize:t.value.pageSize,search:n.filters.search||"",categoryID:u.value},r=await n.getProductList(e);t.value=r.pagination},I=async()=>{_.getUnreadMessages().forEach(e=>{S.info(e.content,{onClose:()=>{_.markMessageAsRead(e.id)},timeout:!1})})};return G(async()=>{await C(),await k(),await I()}),(l,e)=>{const r=c("el-col"),D=c("el-icon"),d=c("el-row"),M=c("el-checkbox"),R=c("el-checkbox-group"),m=c("el-button"),V=c("el-card"),B=c("RouterLink"),U=c("el-pagination");return p(),g(d,{style:{"margin-top":"-0.3rem"},gutter:20},{default:a(()=>[o(r,{class:"sideFilter",span:5},{default:a(()=>[o(V,null,{header:a(()=>[i("div",Q,[o(d,null,{default:a(()=>[o(r,{span:12},{default:a(()=>e[3]||(e[3]=[i("span",{style:{float:"left","font-weight":"bold",color:"#0f5841","font-size":"1.3rem"}},"Filter",-1)])),_:1}),o(r,{span:4}),o(r,{span:8,style:{"text-align":"right","align-content":"end"}},{default:a(()=>[o(D,{size:"large",style:{color:"#0f5841"}},{default:a(()=>[o(z(H))]),_:1})]),_:1})]),_:1})])]),default:a(()=>[(p(!0),v(h,null,b(z(K),s=>(p(),g(R,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=j=>u.value=j),style:{display:"flex","flex-direction":"column"}},{default:a(()=>[o(M,{label:s.label,value:s.value,size:"large"},null,8,["label","value"])]),_:2},1032,["modelValue"]))),256)),i("div",null,[o(m,{round:"",color:"#0F5841",style:{"background-image":"linear-gradient(to right, #0f5841, #87ab9f)",border:"none",margin:"10px 0 10px 0",width:"100%"},size:"large",onClick:N},{default:a(()=>e[4]||(e[4]=[w("Apply Filter")])),_:1})]),i("div",null,[o(m,{round:"",color:"#0F5841",style:{"background-image":"linear-gradient(to right, #0f5841, #87ab9f)",border:"none",width:"100%"},size:"large",onClick:L},{default:a(()=>e[5]||(e[5]=[w("Clear Filter")])),_:1})])]),_:1})]),_:1}),o(r,{span:19,style:{}},{default:a(()=>[o(d,{gutter:20,style:{}},{default:a(()=>[(p(!0),v(h,null,b(x.value,s=>(p(),g(r,{key:s.productID,span:7,class:"product-col"},{default:a(()=>[o(B,{to:{name:"ProdDetail",query:{id:s.productID}},style:{color:"white"}},{default:a(()=>[i("img",{style:{height:"280px",width:"100%","object-fit":"contain",display:"block"},src:s.productImage,alt:""},null,8,W),i("div",X,[i("div",Y,f(s.productName),1),i("div",Z," RM "+f(s.productPrice),1),i("div",$,f(s.productCondition),1)])]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1}),i("div",ee,[o(U,{"current-page":t.value.pageNumber,"onUpdate:currentPage":e[1]||(e[1]=s=>t.value.pageNumber=s),"page-size":t.value.pageSize,"onUpdate:pageSize":e[2]||(e[2]=s=>t.value.pageSize=s),"page-sizes":[10,50,100],size:t.value.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.value.totalRecord,onCurrentChange:P,onSizeChange:F},null,8,["current-page","page-size","size","total"])])]),_:1})]),_:1})}}},re=O(te,[["__scopeId","data-v-34d7254e"]]);export{re as default};
