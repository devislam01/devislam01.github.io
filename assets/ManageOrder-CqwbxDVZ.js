import{y as U,z as k,e as P,p as B,f as m,h as F,r,i as I,o as v,w as l,a as t,b as u,c as L,F as T,j,k as b,l as f,t as A}from"./index-Bt2_kKyI.js";import{o as M,g as q}from"./constants-BJ-mVNN5.js";const E=U("order",{state:()=>({data:null}),actions:{async getOrders(_){return k.post("admin/order/orderList",_)}}}),$={style:{margin:"3% auto"}},J={__name:"ManageOrder",setup(_){const x=E();P(),B();const c=m([]),o=m({pageNumber:1,pageSize:10,totalRecord:0,pageCount:0}),n=m({orderID:null,userID:null,paymentID:null,status:null}),S=async()=>{n.value={},await s()},s=async()=>{const y={pageNumber:o.value.pageNumber,pageSize:o.value.pageSize,orderID:n.value.orderID,userID:n.value.userID,paymentID:n.value.paymentID,status:n.value.status},e=await x.getOrders(y);e.code===200&&(c.value=e.data.data,o.value.pageNumber=e.data.pagination.pageNumber,o.value.pageSize=e.data.pagination.pageSize,o.value.totalRecord=e.data.pagination.totalRecord,o.value.pageCount=e.data.pagination.pageCount)};return F(s),(y,e)=>{const i=r("el-input"),p=r("el-col"),z=r("el-option"),w=r("el-select"),D=r("el-button"),g=r("el-row"),V=r("el-divider"),d=r("el-table-column"),C=r("el-tag"),N=r("el-table"),h=r("el-pagination"),O=r("el-card");return v(),I(O,{header:"Order List",style:{margin:"7% 3%","min-width":"500px",height:"800px","text-align":"left"}},{default:l(()=>[t(g,{gutter:20},{default:l(()=>[t(p,{span:6},{default:l(()=>[u("div",null,[e[6]||(e[6]=u("span",null,"Order ID",-1)),t(i,{type:"text",modelValue:n.value.orderID,"onUpdate:modelValue":e[0]||(e[0]=a=>n.value.orderID=a),placeholder:"Paste the ID here...",clearable:""},null,8,["modelValue"])])]),_:1}),t(p,{span:6},{default:l(()=>[e[7]||(e[7]=u("span",null,"User ID",-1)),u("div",null,[t(i,{type:"text",modelValue:n.value.userID,"onUpdate:modelValue":e[1]||(e[1]=a=>n.value.userID=a),placeholder:"Paste the ID here...",clearable:""},null,8,["modelValue"])])]),_:1}),t(p,{span:6},{default:l(()=>[e[8]||(e[8]=u("span",null,"Payment ID",-1)),u("div",null,[t(i,{type:"text",modelValue:n.value.paymentID,"onUpdate:modelValue":e[2]||(e[2]=a=>n.value.paymentID=a),placeholder:"Paste the ID here..."},null,8,["modelValue"])])]),_:1}),t(p,{span:6},{default:l(()=>[e[9]||(e[9]=u("span",null,"Status",-1)),u("div",null,[t(w,{modelValue:n.value.status,"onUpdate:modelValue":e[3]||(e[3]=a=>n.value.status=a),placeholder:"--- Select Status ---"},{default:l(()=>[(v(!0),L(T,null,j(b(M),(a,R)=>(v(),I(z,{key:R,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1}),t(p,{span:24,style:{display:"flex","justify-content":"flex-start","margin-top":"20px"}},{default:l(()=>[t(D,{type:"success",style:{border:"none",width:"90px"},size:"large",onClick:s},{default:l(()=>e[10]||(e[10]=[f("Search")])),_:1}),t(D,{type:"danger",style:{border:"none",width:"90px"},size:"large",onClick:S},{default:l(()=>e[11]||(e[11]=[f("Reset")])),_:1})]),_:1})]),_:1}),t(V),t(g,null,{default:l(()=>[t(N,{data:c.value,height:"333",style:{width:"100%"},stripe:""},{default:l(()=>[t(d,{prop:"orderID",label:"Order ID","flex-grow":1,"show-overflow-tooltip":""}),t(d,{prop:"userID",label:"User ID","show-overflow-tooltip":"","flex-grow":1}),t(d,{prop:"paymentID",label:"Payment ID","flex-grow":1}),t(d,{prop:"totalAmount",label:"Total Amount","flex-grow":1,formatter:a=>`RM ${a.totalAmount.toFixed(2)}`},null,8,["formatter"]),t(d,{prop:"status",label:"Status","flex-grow":1},{default:l(({row:a})=>[t(C,{type:b(q)[a.status]},{default:l(()=>[f(A(a.status),1)]),_:2},1032,["type"])]),_:1})]),_:1},8,["data"])]),_:1}),t(g,null,{default:l(()=>[u("div",$,[t(h,{"current-page":o.value.pageNumber,"onUpdate:currentPage":e[4]||(e[4]=a=>o.value.pageNumber=a),"page-size":o.value.pageSize,"onUpdate:pageSize":e[5]||(e[5]=a=>o.value.pageSize=a),layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,50,100],size:o.value.pageSize,total:o.value.totalRecord,"hide-on-single-page":o.value.pageCount===1&&o.value.totalRecord<=10,onCurrentChange:s,onSizeChange:s},null,8,["current-page","page-size","size","total","hide-on-single-page"])])]),_:1})]),_:1})}}};export{J as default};
