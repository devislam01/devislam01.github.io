import{u as Y}from"./productStore-6vUAdUaK.js";import{e as Z,s as ee,A as te,f as s,h as oe,r as n,c as _,o as p,a as t,w as a,b as l,F as P,j as U,i as z,t as h,l as k,k as c,G as le,H as N,I as ae,q as re,J as ne,D as g}from"./index-e0xVzh0y.js";import{c as de}from"./constants-BJ-mVNN5.js";import{_ as ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";const se={style:{display:"flex","align-items":"center",gap:"40px",margin:"0 0 0 30px","justify-content":"center"}},ue=["src"],pe={style:{display:"flex","flex-direction":"column",color:"#0f5841","font-size":"1.2rem",margin:"0 0 0 40px"}},ce={style:{display:"flex","align-items":"center",gap:"10px"}},fe={style:{color:"#0f5841","font-size":"1.2rem"}},me=["src"],ge={class:"el-upload-list__item-actions"},ye=["onClick"],ve=["onClick"],_e={style:{"text-align":"center"}},xe=["src"],be={style:{display:"flex","flex-direction":"column","text-align":"left",width:"100%"}},we={style:{width:"100%"}},Pe={__name:"Seller",setup(he){const y=Z(),x=Y(),R=ee(),L=te(),I=s(""),b=s(!1),Q=s(!1),V=s(null),r=s({productImage:[],productName:"",productDescription:"",categoryID:1,productCondition:"",productPrice:1,stockQty:1}),C=s([]),j=s(),A=s({Authorization:"Bearer "+L.accessToken}),B=async()=>{const d=await R.getUserProfile();(d.paymentQRCode==="https://fyp-production-a7ce.up.railway.app/"||d.paymentQRCode==="")&&(y.info("Please upload the QR Code before add product!"),setTimeout(()=>{g.currentRoute.value.path!=="/Profile"?g.push("/Profile"):g.go(0)},2e3))},E=d=>{r.value.productImage=r.value.productImage.filter(e=>e.uid!==d.uid),console.log("After remove:",r.value.productImage)},F=d=>{I.value=d.url||URL.createObjectURL(d.raw),b.value=!0},M=async()=>{if(await V.value.validate(),!r.value.productImage||r.value.productImage.length===0){y.warning("No file selected");return}const d={ProductImage:r.value.productImage[0].raw,ProductName:r.value.productName,ProductDescription:r.value.productDescription,CategoryID:r.value.categoryID,ProductCondition:r.value.productCondition,ProductPrice:parseFloat(r.value.productPrice),StockQty:parseInt(r.value.stockQty)};(await x.addProduct(d)).code===200&&y.success("Add Successfully!"),setTimeout(()=>{g.go(0)},2e3)},T=async d=>{const e={productID:d};(await x.deleteProduct(e)).code===200&&y.success("Delete Successfully!"),setTimeout(()=>{g.go(0)},2e3)},G=async()=>{C.value=await x.getSpecificProductList()};return oe(async()=>{await B(),await G()}),(d,e)=>{const u=n("el-row"),i=n("el-col"),f=n("el-icon"),w=n("el-button"),H=n("RouterLink"),S=n("el-tab-pane"),$=n("el-upload"),q=n("el-dialog"),v=n("el-input"),J=n("el-option"),O=n("el-select"),m=n("el-radio-button"),W=n("el-radio-group"),K=n("el-form"),X=n("el-tabs");return p(),_(P,null,[t(X,{type:"border-card"},{default:a(()=>[t(S,{label:"Selling List"},{default:a(()=>[t(i,{span:12,style:{"border-style":"solid","border-color":"#0f5841","border-width":"2px","border-radius":"15px",padding:"20px",margin:"10px",height:"fit-content"}},{default:a(()=>[t(u,null,{default:a(()=>e[8]||(e[8]=[l("div",{style:{float:"left","font-weight":"700",color:"#0f5841","font-size":"1.8rem",width:"100%","text-align":"left","margin-bottom":"20px"}}," My Selling List ",-1)])),_:1}),t(u,{style:{"border-bottom":"2px solid #0f5841","padding-bottom":"10px"}},{default:a(()=>[t(i,{span:12},{default:a(()=>e[9]||(e[9]=[l("div",{style:{color:"#0f5841","font-size":"1.2rem","text-align":"center","font-weight":"500"}}," Product ",-1)])),_:1}),t(i,{span:6},{default:a(()=>e[10]||(e[10]=[l("div",{style:{color:"#0f5841","font-size":"1.2rem","font-weight":"500"}}," Stock ",-1)])),_:1}),t(i,{span:6})]),_:1}),(p(!0),_(P,null,U(C.value,o=>(p(),z(u,{key:o.productID,style:{"border-bottom":"2px solid #0f5841","padding-bottom":"10px","margin-top":"10px","margin-bottom":"10px"}},{default:a(()=>[t(i,{span:12},{default:a(()=>[l("div",se,[l("img",{style:{width:"150px",height:"150px","object-fit":"contain"},src:o.productImage,alt:""},null,8,ue),l("div",pe,[l("div",null,h(o.productName),1),l("div",null,"RM "+h(o.productPrice),1)])])]),_:2},1024),t(i,{span:6,style:{"align-content":"space-evenly","justify-items":"center"}},{default:a(()=>[l("div",ce,[l("div",fe,h(o.stockQty),1)])]),_:2},1024),t(i,{span:6,style:{"align-content":"space-evenly"}},{default:a(()=>[t(H,{to:{name:"EditSpecificProduct",query:{id:o.productID}},style:{color:"white"}},{default:a(()=>[t(w,{round:"",color:"#0F5841",style:{"background-image":"linear-gradient(to right, #0f5841, #87ab9f)",border:"none",margin:"10px 10px 0 0",width:"120px"},size:"large"},{default:a(()=>[t(f,{style:{"margin-right":"8px"}},{default:a(()=>[t(c(le))]),_:1}),e[11]||(e[11]=k("Edit"))]),_:1})]),_:2},1032,["to"]),t(w,{round:"",color:"#0F5841",style:{"background-image":"linear-gradient(to right, #0f5841, #87ab9f)",border:"none","margin-top":"10px",width:"120px"},size:"large",onClick:D=>T(o.productID)},{default:a(()=>[t(f,{style:{"margin-right":"8px"}},{default:a(()=>[t(c(N))]),_:1}),e[12]||(e[12]=k("Delete"))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(S,{label:"Add Product"},{default:a(()=>[t(K,{ref_key:"formRef",ref:V,model:r.value},{default:a(()=>[t(i,{span:24,style:{"border-style":"solid","border-color":"#0f5841","border-width":"2px","border-radius":"15px",padding:"20px",margin:"10px"}},{default:a(()=>[t(u,null,{default:a(()=>e[13]||(e[13]=[l("div",{style:{float:"left","font-weight":"700",color:"#0f5841","font-size":"1.8rem",width:"100%","text-align":"left","margin-bottom":"20px"}}," Add Product ",-1)])),_:1}),t($,{"file-list":r.value.productImage,"onUpdate:fileList":e[0]||(e[0]=o=>r.value.productImage=o),"list-type":"picture-card",ref_key:"uploadRef",ref:j,"auto-upload":!1,"show-file-list":!0,action:"https://fyp-production-a7ce.up.railway.app/api/common/upload",headers:A.value,name:"ProductImage",style:{"justify-content":"center"}},{file:a(({file:o})=>[l("div",null,[l("img",{class:"el-upload-list__item-thumbnail",src:o.url,alt:""},null,8,me),l("span",ge,[l("span",{class:"el-upload-list__item-preview",onClick:D=>F(o)},[t(f,null,{default:a(()=>[t(c(ne))]),_:1})],8,ye),Q.value?re("",!0):(p(),_("span",{key:0,class:"el-upload-list__item-delete",onClick:D=>E(o)},[t(f,null,{default:a(()=>[t(c(N))]),_:1})],8,ve))])])]),default:a(()=>[t(f,null,{default:a(()=>[t(c(ae))]),_:1})]),_:1},8,["file-list","headers"]),t(q,{modelValue:b.value,"onUpdate:modelValue":e[1]||(e[1]=o=>b.value=o),style:{width:"700px",height:"500px","align-content":"center"}},{default:a(()=>[l("div",_e,[l("img",{src:I.value,alt:"Preview Image",style:{"max-height":"400px",width:"auto","max-width":"500%"}},null,8,xe)])]),_:1},8,["modelValue"]),e[16]||(e[16]=l("div",{style:{"text-align":"left"}},[l("div",{style:{float:"left",color:"#0f5841","font-size":"1.2rem","margin-top":"20px","font-weight":"500"}}," Product Name ")],-1)),t(v,{modelValue:r.value.productName,"onUpdate:modelValue":e[2]||(e[2]=o=>r.value.productName=o),placeholder:"Please Enter your Product Name",style:{height:"40px"}},null,8,["modelValue"]),e[17]||(e[17]=l("div",{style:{"text-align":"left"}},[l("div",{style:{float:"left",color:"#0f5841","font-size":"1.2rem","margin-top":"20px","font-weight":"500"}}," Product Description ")],-1)),t(v,{modelValue:r.value.productDescription,"onUpdate:modelValue":e[3]||(e[3]=o=>r.value.productDescription=o),type:"textarea",rows:4,placeholder:"Write your Product Description here..."},null,8,["modelValue"]),e[18]||(e[18]=l("div",{style:{"text-align":"left"}},[l("div",{style:{float:"left",color:"#0f5841","font-size":"1.2rem","margin-top":"20px","font-weight":"500"}}," Product Category ")],-1)),t(O,{modelValue:r.value.categoryID,"onUpdate:modelValue":e[4]||(e[4]=o=>r.value.categoryID=o),placeholder:"Select your Item Category",size:"large",style:{"border-radius":"6px",width:"100%",height:"30px","align-items":"center"}},{default:a(()=>[(p(!0),_(P,null,U(c(de),o=>(p(),z(J,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),l("div",be,[e[14]||(e[14]=l("div",{style:{color:"#0f5841","font-size":"1.2rem","margin-top":"20px","font-weight":"500"}}," Product Condition ",-1)),l("div",we,[t(W,{modelValue:r.value.productCondition,"onUpdate:modelValue":e[5]||(e[5]=o=>r.value.productCondition=o),size:"large",style:{width:"100%",display:"flex","flex-wrap":"wrap"}},{default:a(()=>[t(m,{label:"Brand New",value:"Brand New"}),t(m,{label:"Like New",value:"Like New"}),t(m,{label:"Gently Used",value:"Gently Used"}),t(m,{label:"Moderately Used",value:"Moderately Used"}),t(m,{label:"Heavily Used",value:"Heavily Used"})]),_:1},8,["modelValue"])])]),e[19]||(e[19]=l("div",{style:{"text-align":"left"}},[l("div",{style:{float:"left",color:"#0f5841","font-size":"1.2rem","margin-top":"20px","font-weight":"500"}}," Product Price ")],-1)),t(v,{modelValue:r.value.productPrice,"onUpdate:modelValue":e[6]||(e[6]=o=>r.value.productPrice=o),placeholder:"Please Enter your Product Price (RM)",style:{height:"40px"}},null,8,["modelValue"]),e[20]||(e[20]=l("div",{style:{"text-align":"left"}},[l("div",{style:{float:"left",color:"#0f5841","font-size":"1.2rem","margin-top":"20px","font-weight":"500"}}," Product Stock ")],-1)),t(v,{modelValue:r.value.stockQty,"onUpdate:modelValue":e[7]||(e[7]=o=>r.value.stockQty=o),placeholder:"Please Enter your Product Stock Quantity",style:{height:"40px"}},null,8,["modelValue"]),t(w,{round:"",color:"#0F5841",style:{"background-image":"linear-gradient(to right, #0f5841, #87ab9f)",border:"none","margin-top":"30px",width:"100%"},size:"large",onClick:M},{default:a(()=>e[15]||(e[15]=[k("Upload Product")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1}),t(u,{span:24,style:{"justify-content":"space-around"}})],64)}}},Se=ie(Pe,[["__scopeId","data-v-2edc272f"]]);export{Se as default};
