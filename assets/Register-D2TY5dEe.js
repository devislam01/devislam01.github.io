import{s as Z,n as E,e as j,p as B,f as c,r as s,i as F,o as y,w as o,a as l,b as r,c as C,q as P,l as u,k as V}from"./index-oCaEIrCc.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K={style:{"text-align":"left",width:"100%"}},T={key:0},$={style:{float:"left",margin:"10px 0 0 0",width:"100%","text-align":"left"}},D={style:{width:"100%","text-align":"left"}},M={style:{width:"100%","text-align":"left"}},W={key:1},O={style:{margin:"10px 0 0 0",width:"100%","text-align":"left"}},H={style:{width:"100%","text-align":"left"}},J={style:{margin:"10px 0 0 0",width:"100%","text-align":"left"}},X={style:{width:"100%","text-align":"left"}},Y={style:{width:"100%","text-align":"left"}},ee={style:{"text-align":"left"}},le={style:{display:"flex","justify-content":"space-between",margin:"30px 0 20px 0"}},te={__name:"Register",setup(oe){const R=Z(),_=E(),b=j(),k=B(),v=c(null),p=c(0),A=async()=>{await v.value.validate(),p.value++>2&&(p.value=0)},t=c({email:"",password:"",confirmPassword:"",username:"",phoneNumber:"",gender:"",address:"",userGender:"",college:"",paymentQRCode:[]}),U=c({email:[{required:!0,message:"Please input Email Address",trigger:"blur"},{pattern:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address",trigger:"blur"}],password:[{required:!0,message:"Please input Password",trigger:"blur"},{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*[\W_]).*$/,message:"Password must include uppercase, lowercase, and special character",trigger:"blur"}],confirmPassword:[{required:!0,message:"Please confirm your Password",trigger:"blur"},{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*[\W_]).*$/,message:"Password must include uppercase, lowercase, and special character",trigger:"blur"},{validator:(f,e,n)=>{e!==t.value.password?n(new Error("Passwords do not match")):n()},trigger:"blur"}],username:[{required:!0,message:"Please input Username",trigger:"blur"}],phoneNumber:[{required:!0,message:"Please input Phone Number",trigger:"blur"}],address:[{required:!0,message:"Please input Address",trigger:"blur"}],userGender:[{required:!0,message:"Please select your gender",trigger:"change"}],college:[{required:!0,message:"Please choose your Residential College",trigger:"change"}]}),N=async()=>{var f,e;try{await v.value.validate();const n={Email:t.value.email,Password:t.value.password,Username:t.value.username,PhoneNumber:t.value.phoneNumber,Address:t.value.address,UserGender:t.value.userGender,ResidentialCollege:t.value.college,QRCode:((e=(f=t.value.paymentQRCode)==null?void 0:f[0])==null?void 0:e.raw)??""},w=await R.registerUser(n);console.log(w),b.success("Register Success! Please Log In to Continue."),k.push("/login")}catch(n){console.log(n),b.error("Register Failed")}};return(f,e)=>{const n=s("el-step"),w=s("el-steps"),m=s("el-input"),d=s("el-form-item"),g=s("el-button"),h=s("el-radio"),S=s("el-radio-group"),i=s("el-option"),z=s("el-select"),q=s("el-upload"),x=s("el-col"),G=s("RouterLink"),Q=s("el-row"),L=s("el-form");return y(),F(L,{ref_key:"formRef",ref:v,model:t.value,rules:U.value,"label-position":"top"},{default:o(()=>[l(Q,{style:{"box-shadow":"0 0 10px rgba(0, 0, 0, 0.4)","border-radius":"15px",margin:"30px 0 0 0",width:"75%","justify-self":"center"}},{default:o(()=>[l(x,{span:12,style:{padding:"30px"}},{default:o(()=>[r("div",K,[e[10]||(e[10]=r("div",{style:{"font-weight":"bold",color:"#0f5841","font-size":"2rem","margin-bottom":"20px"}}," Signup ",-1)),l(w,{active:p.value,"finish-status":"success",style:{width:"50%","justify-self":"center"}},{default:o(()=>[l(n,{title:"Step 1"}),l(n,{title:"Step 2"})]),_:1},8,["active"])]),p.value===0?(y(),C("div",T,[r("div",$,[l(d,{label:"Email",prop:"email"},{default:o(()=>[l(m,{modelValue:t.value.email,"onUpdate:modelValue":e[0]||(e[0]=a=>t.value.email=a),placeholder:"Please enter your Email",style:{height:"40px"}},null,8,["modelValue"])]),_:1})]),r("div",D,[l(d,{label:"Password",prop:"password"},{default:o(()=>[l(m,{modelValue:t.value.password,"onUpdate:modelValue":e[1]||(e[1]=a=>t.value.password=a),type:"password","show-password":"",placeholder:"Please enter your Password",style:{height:"40px"}},null,8,["modelValue"])]),_:1})]),r("div",M,[l(d,{label:"Confirm Password",prop:"confirmPassword"},{default:o(()=>[l(m,{modelValue:t.value.confirmPassword,"onUpdate:modelValue":e[2]||(e[2]=a=>t.value.confirmPassword=a),type:"confirmPassword","show-password":"",placeholder:"Please enter your Confirm Password",style:{height:"40px"}},null,8,["modelValue"])]),_:1})]),l(g,{round:"",color:"#0F5841",style:{margin:"30px 0 20px 0","background-image":"linear-gradient(to right, #0f5841, #87ab9f)",border:"none",width:"100%"},size:"large",onClick:A},{default:o(()=>e[11]||(e[11]=[u("Next step")])),_:1})])):P("",!0),p.value===1?(y(),C("div",W,[r("div",O,[l(d,{label:"Username",prop:"username"},{default:o(()=>[l(m,{modelValue:t.value.username,"onUpdate:modelValue":e[3]||(e[3]=a=>t.value.username=a),type:"username",placeholder:"Please enter your Username",style:{height:"40px"}},null,8,["modelValue"])]),_:1})]),r("div",H,[l(d,{label:"Phone Number",prop:"phoneNumber"},{default:o(()=>[l(m,{modelValue:t.value.phoneNumber,"onUpdate:modelValue":e[4]||(e[4]=a=>t.value.phoneNumber=a),type:"phoneNumber",placeholder:"Please enter your Phone Number",style:{height:"40px"}},null,8,["modelValue"])]),_:1})]),r("div",J,[l(d,{label:"Gender",prop:"userGender"},{default:o(()=>[l(S,{modelValue:t.value.userGender,"onUpdate:modelValue":e[5]||(e[5]=a=>t.value.userGender=a)},{default:o(()=>[l(h,{value:"1"},{default:o(()=>e[12]||(e[12]=[u("Male")])),_:1}),l(h,{value:"2"},{default:o(()=>e[13]||(e[13]=[u("Female")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),r("div",X,[l(d,{label:"Address",prop:"address"},{default:o(()=>[l(m,{modelValue:t.value.address,"onUpdate:modelValue":e[6]||(e[6]=a=>t.value.address=a),type:"address",placeholder:"Please enter your Address",style:{height:"40px"}},null,8,["modelValue"])]),_:1})]),r("div",Y,[l(d,{label:"Residential College",prop:"college"},{default:o(()=>[l(z,{modelValue:t.value.college,"onUpdate:modelValue":e[7]||(e[7]=a=>t.value.college=a),placeholder:"Please choose your Residential College",style:{width:"100%",height:"40px"}},{default:o(()=>[l(i,{label:"Dahlia College",value:"Dahlia College"}),l(i,{label:"Allamanda College",value:"Allamanda College"}),l(i,{label:"Cempaka College",value:"Cempaka College"}),l(i,{label:"Tun Ahmad Zaidi College",value:"Tun Ahmad Zaidi College"}),l(i,{label:"Rafflesia College",value:"Rafflesia College"}),l(i,{label:"Kasturi College",value:"Kasturi College"}),l(i,{label:"Kenanga College",value:"Kenanga College"}),l(i,{label:"Seroja College",value:"Seroja College"}),l(i,{label:"Sakura College",value:"Sakura College"})]),_:1},8,["modelValue"])]),_:1})]),r("div",ee,[l(d,{label:"QR Code (Optional)",prop:"paymentQRCode"},{default:o(()=>[l(q,{"file-list":t.value.paymentQRCode,"onUpdate:fileList":e[8]||(e[8]=a=>t.value.paymentQRCode=a),class:"upload-demo",style:{width:"100%"},action:"#",limit:1,"auto-upload":!1},{trigger:o(()=>[l(g,{type:"primary"},{default:o(()=>e[14]||(e[14]=[u("Select Receiving QR Code")])),_:1})]),tip:o(()=>e[15]||(e[15]=[r("div",{class:"el-upload__tip text-red"}," limit 1 file, new file will cover the old file ",-1)])),_:1},8,["file-list"])]),_:1})]),r("div",le,[l(g,{onClick:e[9]||(e[9]=a=>p.value--),round:"",color:"white",style:{border:"2px solid #0f5841",width:"48%"},size:"large"},{default:o(()=>e[16]||(e[16]=[u(" Previous ")])),_:1}),l(g,{round:"",color:"#0F5841",style:{"background-image":"linear-gradient(to right, #0f5841, #87ab9f)",border:"none",width:"48%"},size:"large",onClick:N,loading:V(_).loading,disabled:V(_).loading},{default:o(()=>e[17]||(e[17]=[u(" Register ")])),_:1},8,["loading","disabled"])])])):P("",!0)]),_:1}),l(x,{span:12,style:{"background-image":"linear-gradient(to right, #0f5841, #87ab9f)","border-end-end-radius":"13px","border-top-right-radius":"13px","align-content":"center"}},{default:o(()=>[r("div",null,[e[19]||(e[19]=r("div",{style:{"font-weight":"bold",color:"white","font-size":"1.3rem",width:"100%","text-align":"center"}}," Create Account ",-1)),e[20]||(e[20]=r("div",{style:{color:"white","font-size":"1rem","margin-top":"20px","margin-left":"100px","margin-right":"100px"}}," Create an account to dive into the world of trading preloved items among the community of UNIMAS. As a member of SecondLife UNIMAS, you'll gain exclusive access to buy and sell preloved items within their community Don't miss out on the excitement â€“ sign up now and start your adventure today! ",-1)),l(g,{round:"",style:{margin:"20px",border:"none","background-color":"rgba(255, 255, 255, 0.3)",color:"white",width:"350px"},size:"large"},{default:o(()=>[l(G,{to:"/login",style:{color:"white","text-decoration":"none",display:"block",width:"100%",height:"100%"}},{default:o(()=>e[18]||(e[18]=[u("Already have an account? Login here")])),_:1})]),_:1})])]),_:1})]),_:1})]),_:1},8,["model","rules"])}}},se=I(te,[["__scopeId","data-v-ae67fd76"]]);export{se as default};
