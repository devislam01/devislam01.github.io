import{_ as j}from"./PrelovedNoBack-C_xS12Ve.js";import{s as H,A as K,e as O,p as W,f as g,g as S,h as Z,r as l,c as q,o as y,a as t,w as o,b as i,l as s,k as r,C as G,N as J,i as R,S as Q,fd as X,F as Y}from"./index-DM2W6Jl1.js";import{u as ee}from"./productStore-CYeYHJgz.js";const te={style:{display:"flex","align-items":"center"}},oe={style:{margin:"16px 0 16px 0","text-align":"center"}},re={__name:"TopNavigation",setup(le){const p=ee(),L=H(),v=K(),x=O(),k=W(),N=k.currentRoute.value,m=g(""),u=g(!1),f=g(""),T=S(()=>v.accessToken!==null),z=S(()=>p.cartCount),B=async()=>{const c={search:m.value??"",categoryID:p.filters.categoryID};await p.getProductList(c)},E=async()=>{if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*[\W_]).*$/.test(f.value)){x.info("Password must be include uppercase, lowercase, number, and special character.");return}u.value=!1;const e={password:f.value},n=await L.resetPassword(e);n.code===200&&x.success(n.message)};return Z(async()=>{v.accessToken!==null&&await p.shoppingCart()}),(c,e)=>{const n=l("el-menu-item"),w=l("el-col"),b=l("el-text"),U=l("Search"),_=l("el-icon"),C=l("el-input"),$=l("el-badge"),P=l("RouterLink"),d=l("el-dropdown-item"),A=l("el-dropdown-menu"),D=l("el-dropdown"),M=l("el-row"),F=l("el-menu"),I=l("el-tooltip"),V=l("el-button"),h=l("el-dialog");return y(),q(Y,null,[t(F,{mode:"horizontal",ellipsis:!1,router:"","default-active":r(N).path},{default:o(()=>[t(M,{style:{width:"100%"}},{default:o(()=>[t(w,{span:9},{default:o(()=>[t(n,null,{default:o(()=>e[6]||(e[6]=[i("img",{style:{width:"275px","margin-top":"10px"},src:j,alt:"Element logo"},null,-1)])),_:1})]),_:1}),t(w,{span:12,style:{display:"flex","justify-content":"right"}},{default:o(()=>[t(n,{index:"/"},{default:o(()=>[t(b,{tag:"b"},{default:o(()=>e[7]||(e[7]=[s("Home")])),_:1})]),_:1}),t(n,{index:"/seller"},{default:o(()=>[t(b,{tag:"b"},{default:o(()=>e[8]||(e[8]=[s("Sell")])),_:1})]),_:1}),t(n,null,{default:o(()=>[t(C,{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=a=>m.value=a),placeholder:"Search for Products...",onKeyup:B},{prefix:o(()=>[i("span",te,[t(_,null,{default:o(()=>[t(U)]),_:1})])]),_:1},8,["modelValue"])]),_:1}),t(n,{index:"/shoppingCart"},{default:o(()=>[t($,{value:z.value,class:"item","show-zero":!1,offset:[0,17]},{default:o(()=>[t(_,null,{default:o(()=>[t(r(G))]),_:1})]),_:1},8,["value"])]),_:1}),t(n,{index:"/Profile"},{default:o(()=>[t(D,null,{dropdown:o(()=>[t(A,null,{default:o(()=>[t(d,null,{default:o(()=>[t(P,{to:"/Profile",style:{color:"#0f5841"}},{default:o(()=>e[9]||(e[9]=[s("My Profile")])),_:1})]),_:1}),t(d,null,{default:o(()=>[t(P,{to:"/order",style:{color:"#0f5841"}},{default:o(()=>e[10]||(e[10]=[s("My Order")])),_:1})]),_:1}),t(d,{onClick:e[1]||(e[1]=a=>u.value=!0),style:{color:"#0f5841","font-weight":"500"}},{default:o(()=>e[11]||(e[11]=[s(" Reset Password ")])),_:1}),T.value?(y(),R(d,{key:0,onClick:r(Q),style:{color:"#0f5841","font-weight":"500"}},{default:o(()=>e[12]||(e[12]=[s("Logout")])),_:1},8,["onClick"])):(y(),R(d,{key:1,onClick:e[2]||(e[2]=a=>r(k).push({path:"/login"})),style:{color:"#0f5841","font-weight":"500"}},{default:o(()=>e[13]||(e[13]=[s("Login")])),_:1}))]),_:1})]),default:o(()=>[t(_,null,{default:o(()=>[t(r(J))]),_:1})]),_:1})]),_:1})]),_:1}),t(w,{span:3})]),_:1})]),_:1},8,["default-active"]),t(h,{modelValue:u.value,"onUpdate:modelValue":e[5]||(e[5]=a=>u.value=a),width:"600",style:{"text-align":"center"}},{footer:o(()=>[i("div",oe,[t(V,{type:"primary",onClick:E},{default:o(()=>e[14]||(e[14]=[s("Save")])),_:1}),t(V,{onClick:e[4]||(e[4]=a=>u.value=!1)},{default:o(()=>e[15]||(e[15]=[s("Cancel")])),_:1})])]),default:o(()=>[e[16]||(e[16]=i("p",{style:{"font-size":"1.5rem","font-weight":"600"}},"Reset account password",-1)),e[17]||(e[17]=i("p",{style:{"font-size":"1rem"}},"Enter a new password",-1)),t(C,{modelValue:f.value,"onUpdate:modelValue":e[3]||(e[3]=a=>f.value=a),type:"password","show-password":"",label:"New Password",placeholder:"Enter new password...",clearable:"",style:{width:"400px",height:"40px"}},{suffix:o(()=>[t(I,{content:"This action is irreversible. Please proceed with caution.",placement:"top"},{default:o(()=>[t(_,null,{default:o(()=>[t(r(X))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])],64)}}};export{re as _};
